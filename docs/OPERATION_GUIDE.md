# 운영 가이드 - 스터디 자료실

Notion CMS 기반 스터디 자료실의 운영 방법에 대한 가이드입니다.

## 개요

이 플랫폼은 운영자가 Notion에서 자료를 관리하면 자동으로 웹사이트에 반영되는 구조입니다.

## 자료 등록 방법

### 1단계: Notion에서 새 자료 생성

1. Notion 데이터베이스(`StudyMaterials`)로 이동
2. 새 항목(New) 클릭
3. 다음 필수 정보 입력:

#### 필수 항목

| 항목 | 타입 | 설명 | 예시 |
|------|------|------|------|
| **Title** | Text | 자료 제목 | "React Hooks 완벽 가이드" |
| **Category** | Select | 자료 분류 | Frontend, Backend, CS, DevOps, Algorithm 등 |
| **Status** | Select | 게시 여부 | **공개** (필수) / 비공개 |
| **Published** | Date | 게시 날짜 | 현재 날짜 |
| **Type** | Select | 자료 형식 | 문서, 링크, 영상, PDF |

#### 선택 항목

| 항목 | 타입 | 설명 | 예시 |
|------|------|------|------|
| **Tags** | Multi-select | 검색용 태그 | React, Hook, State, Performance 등 |
| **Summary** | Rich text | 자료 설명 | "React Hooks의 사용법과 best practices를 다룹니다." |
| **Attachment** | Files | 첨부파일 | PDF, 이미지 등 |

### 2단계: 자료 본문 작성

1. 자료 제목 클릭하여 Notion 페이지 열기
2. 페이지에 다음 요소들 추가 가능:
   - **텍스트**: 단락, 제목(H1~H3)
   - **목록**: 글머리 목록, 번호 목록
   - **코드**: 코드 블록 (언어 선택 가능)
   - **이미지**: 이미지 업로드 또는 외부 이미지 링크
   - **콜아웃**: 강조 박스
   - **인용**: 인용 블록
   - **토글**: 펼침/접음 섹션
   - **구분선**: 시각적 구분

### 3단계: 웹사이트 반영 확인

- **업데이트 주기**: 60초마다 자동 재검증 (ISR)
- **공개 수정**: Status를 "공개"로 설정하면 약 1분 후 웹에 나타남
- **비공개 수정**: Status를 "비공개"로 변경하면 웹에서 숨겨짐

## 자료 수정 및 삭제

### 수정 방법

1. Notion 데이터베이스에서 자료 선택
2. 필요한 정보 수정 (제목, 요약, 태그, 본문 등)
3. 자동으로 웹사이트에 반영 (최대 60초 소요)

### 삭제 방법

완전 삭제 원하는 경우:
1. 자료의 Status를 "비공개"로 변경
2. 웹사이트에서 보이지 않음 확인
3. 필요시 Notion에서 항목 삭제

> **주의**: 삭제된 자료는 복구되지 않으므로 신중하게 진행하세요.

## 카테고리 및 태그 관리

### 카테고리 생성

1. Notion 데이터베이스 스키마 > Category 속성 열기
2. 새 옵션 추가: "Edit options" → "Add an option"
3. 카테고리명 입력 (예: Frontend, Backend, CS)

### 태그 생성

1. Notion 데이터베이스 스키마 > Tags 속성 열기
2. 필요한 태그 추가 (예: React, TypeScript, Node.js)
3. 여러 자료에 동일 태그 적용 가능

> **팁**: 일관된 태그 관리로 사용자의 검색 경험 향상

## 성능 최적화 팁

### 이미지 최적화

- **권장 크기**: 최대 2MB 이하
- **포맷**: JPG (사진), PNG (스크린샷)
- **해상도**: 1920px 이상 권장

### 콘텐츠 구성

- **제목 활용**: H2, H3 제목 사용으로 읽기 쉽게 구성
- **단락 분리**: 긴 본문은 여러 단락으로 나누기
- **코드 블록**: 문법 강조 언어 지정 (javascript, python 등)

## 자주 묻는 질문 (FAQ)

### Q1: 새로 추가한 자료가 웹에 보이지 않아요

**A**: 다음을 확인하세요:
1. Status가 "공개"로 설정되어 있는가?
2. Published 날짜가 현재 이전인가?
3. Category, Type이 선택되어 있는가?
4. 60초 이상 기다렸는가?

### Q2: 이미지가 제대로 표시되지 않습니다

**A**: 다음을 시도하세요:
1. Notion에서 이미지 삭제 후 다시 업로드
2. 이미지 파일 크기 확인 (2MB 이상 압축)
3. 외부 링크 이미지는 HTTPS URL 사용

### Q3: 여러 자료를 한 번에 수정할 수 있나요?

**A**: 네, Notion의 데이터베이스 뷰에서:
1. 수정할 자료 여러 개 선택
2. 각 자료의 속성 개별 수정
3. 자동으로 반영됨

### Q4: 자료 순서를 변경할 수 있나요?

**A**: 웹사이트에서는 자료가 **최신순**으로 정렬됩니다.
- 자료 순서를 변경하려면 Published 날짜 수정

### Q5: 검색 기능이 어떻게 작동하나요?

**A**: 다음 항목에서 검색됩니다:
- 자료 제목 (Title)
- 자료 설명 (Summary)
- 태그 (Tags)

## 배포 및 업데이트

### 프로덕션 배포 확인

- **배포 플랫폼**: Vercel
- **자동 배포**: GitHub push 시 자동 배포
- **상태 확인**: Vercel 대시보드에서 배포 상태 확인

### ISR (Incremental Static Regeneration)

- **홈페이지**: 60초마다 자동 재검증
- **자료 상세 페이지**: 60초마다 자동 재검증
- **수동 재검증**: 필요시 데이터 변경 후 웹 방문

## 모니터링 및 분석

### 방문 통계

- Vercel Analytics에서 방문수, 성능 지표 확인 가능
- 주요 지표: LCP, FID, CLS (Web Vitals)

### 에러 모니터링

- 에러 발생 시 사용자 화면에 "오류 발생" 메시지 표시
- 자료를 찾을 수 없을 경우 404 페이지 표시

## 보안 및 백업

### Notion 데이터 보안

1. **접근 제어**: Notion Integration 권한 최소화
2. **정기 백업**: Notion 자동 버전 관리 활용
3. **API 키 보안**: 환경 변수로 관리

### 환경 변수 관리

```
NOTION_API_KEY: Integration Token (비공개 유지)
NOTION_DATABASE_ID: 데이터베이스 ID
```

> **중요**: 환경 변수는 절대 Git 저장소에 커밋하지 마세요.

## 문제 해결

### 자료가 로드되지 않습니다

**확인 사항**:
1. Notion API 상태 확인 (https://status.notion.so)
2. NOTION_API_KEY 유효성 확인
3. NOTION_DATABASE_ID 정확성 확인
4. 네트워크 연결 상태 확인

### 검색이 작동하지 않습니다

1. 검색어에 띄어쓰기 포함 여부 확인
2. 태그 정확한 스펠링 확인
3. 자료 Status가 "공개"로 설정되었는지 확인

## 더 알아보기

- [프로젝트 README](../README.md)
- [개발 로드맵](./ROADMAP.md)
- [제품 요구사항문서](./PRD.md)
- [Notion API 문서](https://developers.notion.com/)

## 지원 및 피드백

문제가 발생하거나 개선 사항이 있다면:
1. 관리자에게 직접 연락
2. GitHub Issues에 버그 리포트
3. 기능 요청 제출

---

**마지막 업데이트**: 2026년 1월
